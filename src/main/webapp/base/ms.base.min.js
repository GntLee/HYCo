function isEmpty(t,a){return"undefined"==t||null==t||""==t.trim()||0==t.trim().length?("undefined"!=a&&alert(a),!0):!1}!function($){function isEmpty(t,a){return"undefined"==t||null==t||""==t.trim()||0==t.trim().length?("undefined"!=a&&alert(a),!0):!1}$.fn.postForm=function(form,config){var target=$(this);if(isEmpty($(form).attr("action"))&&isEmpty(config.action))return void alert("配置错误：from表单不存在action属性");var func,action=$(form).attr("action"),data_type="json";"undefined"!=config&&("undefined"!=config.func&&(func=config.func),"undefined"!=config.action&&(action=config.action)),$.ajax({type:"POST",url:action,dataType:data_type,data:$(form).serialize(),beforeSend:function(){target.attr("disabled",!0)},success:function(data){"string"==typeof func?eval(func+"(data)"):"function"==typeof func&&func.call(this,data),target.removeAttr("disabled")}})},$.fn.request=function(config){var target=$(this);if(isEmpty(target.attr("data-ajax-url"))&&isEmpty(config.url))return void alert(target.selector+"配置错误：data-ajax-url属性不存在");var method="POST",data_type="json",func=null,_url=isEmpty(target.attr("data-ajax-url"))?null:target.attr("data-ajax-url"),_data=isEmpty(target.attr("data-ajax-data"))?null:target.attr("data-ajax-data"),_loadingText=isEmpty(target.attr("data-ajax-loading-text"))?null:target.attr("data-ajax-loading-text"),data_type=isEmpty(target.attr("data-ajax-type"))?null:target.attr("data-ajax-type"),text=target.text();if("undefined"!=config){if("undefined"!=config.method){var _method=config.method;("post"!=_method.toLowerCase()||"get"!=_method.toLowerCase())&&(method=_method)}if("undefined"!=config.func&&(func=config.func),"undefined"!=config.type){var _type=config.type.toLowerCase();("xml"==_type||"html"==_type||"script"==_type||"jsonp"==_type||"json"==_type||"text"==_type)&&(data_type=_type)}"undefined"!=config.url&&(_url=config.url),"undefined"!=config.data&&(_data=config.data),"undefined"!=config.loadingText&&(_loadingText=config.loadingText)}$.ajax({type:method,url:_url,dataType:data_type,data:_data,beforeSend:function(){"INPUT"==target[0].nodeName&&(isEmpty(_loadingText)||target.text(_loadingText),target.attr("disabled",!0))},success:function(data){"string"==typeof func?eval(func+"(data)"):"function"==typeof func&&func.call(this,data),"INPUT"==target[0].nodeName&&(target.removeAttr("disabled"),target.text(text))}})},$.fn.noDataMsg=function(t){}}(jQuery),$.fn.postForm=function(form,config){var target=$(this);if(isEmpty($(form).attr("action"))&&isEmpty(config.action))return void alert("配置错误：from表单不存在action属性");var func,action=$(form).attr("action"),data_type="json";"undefined"!=config&&("undefined"!=config.func&&(func=config.func),"undefined"!=config.action&&(action=config.action)),$.ajax({type:"POST",url:action,dataType:data_type,data:$(form).serialize(),beforeSend:function(){target.attr("disabled",!0)},success:function(data){"string"==typeof func?eval(func+"(data)"):"function"==typeof func&&func.call(this,data),target.removeAttr("disabled")}})},$.fn.request=function(config){var target=$(this);if(isEmpty(target.attr("data-ajax-url"))&&isEmpty(config.url))return void alert(target.selector+"配置错误：data-ajax-url属性不存在");var method="POST",data_type="json",func=null,_url=isEmpty(target.attr("data-ajax-url"))?null:target.attr("data-ajax-url"),_data=isEmpty(target.attr("data-ajax-data"))?null:target.attr("data-ajax-data"),_loadingText=isEmpty(target.attr("data-ajax-loading-text"))?null:target.attr("data-ajax-loading-text"),data_type=isEmpty(target.attr("data-ajax-type"))?null:target.attr("data-ajax-type"),text=target.text();if("undefined"!=config){if("undefined"!=config.method){var _method=config.method;("post"!=_method.toLowerCase()||"get"!=_method.toLowerCase())&&(method=_method)}if("undefined"!=config.func&&(func=config.func),"undefined"!=config.type){var _type=config.type.toLowerCase();("xml"==_type||"html"==_type||"script"==_type||"jsonp"==_type||"json"==_type||"text"==_type)&&(data_type=_type)}"undefined"!=config.url&&(_url=config.url),"undefined"!=config.data&&(_data=config.data),"undefined"!=config.loadingText&&(_loadingText=config.loadingText)}$.ajax({type:method,url:_url,dataType:data_type,data:_data,beforeSend:function(){"INPUT"==target[0].nodeName&&(isEmpty(_loadingText)||target.text(_loadingText),target.attr("disabled",!0))},success:function(data){"string"==typeof func?eval(func+"(data)"):"function"==typeof func&&func.call(this,data),"INPUT"==target[0].nodeName&&(target.removeAttr("disabled"),target.text(text))}})},$.fn.noDataMsg=function(t){};var Ms={ajax:function(t,a,e){$.ajax({type:t.type,url:t.url,dataType:t.dataType,data:a,beforeSend:function(){},success:function(t){null!=e&&void 0!=e&&e(t)},error:function(t,a){}})},_target:this,msg:function(t,a){var e=$("<div class='ms-msg'></div>");$("body").append(e),e.html(t).show(),e.animate({opacity:1},500,"ease",function(){$(this).animate({opacity:0},800,"ease",function(){"undefined"!=typeof a&&_target.loadUrl(a)})})},loadUrl:function(t){location.href=t},post:function(t,a,e){$.ajax({type:"POST",url:t,dataType:"json",data:a,beforeSend:function(){_target.msg("加载中...")},success:function(t){e(t)},error:function(t,a){_target.msg("服务器繁忙稍后重试！")}})},get:function(t,a,e){$.ajax({type:"GET",url:t,dataType:"json",data:a,beforeSend:function(){_target.msg("加载中...")},success:function(t){e(t)},error:function(t,a){_target.msg("服务器繁忙稍后重试！")}})},load:function(t,a,e,n){$.ajax({type:a,url:t,dataType:"json",data:e,beforeSend:function(){_target.msg("加载中...")},success:function(t){null!=n&&void 0!=n&&n(t)},error:function(t,a){_target.msg("服务器繁忙稍后重试！")}})},setCookie:function(t,a,e){$.fn.cookie(t,a,{path:"/",expires:e})},getCookie:function(t){return decodeURIComponent($.fn.cookie(t))},delCookie:function(t){$.fn.cookie(t,null)},queryString:function(t){var a=location.search.match(new RegExp("[?&]"+t+"=([^&]*)(&?)","i"));return a?a[1]:a},initModal:function(){function t(t,e,n){$(t).show(),Ms.init(e,n),$(t).parent().hasClass("modalMask")?$(t).parent().show():$(t).wrap("<div class='modalMask' style='width:"+e+"px;height:"+n+"px;position: absolute;background:rgba(0, 0, 0, 0.6) none repeat scroll 0 0 !important;filter:Alpha(opacity=80); background:#fff;z-index: 9997;top: 0;'>"),$(t).find(".ms-modal-button").css("line-height","200%"),$(t).css("margin-left",($(t).parent().width()-$(t).width())/2+"px"),$(t).css("margin-top","10%"),$(t).on("tap",".close",function(){a(t)})}function a(t){$(t).parent().hide(),$(t).hide()}$("*[data-toggle='modal']").size()>0&&$("*[data-toggle='modal']").each(function(a){$("body").on("tap",'[data-target="'+$(this).attr("data-target")+'"]',function(){""!=$(this).attr("data-target")&&t($(this).attr("data-target"),w,h)})})},browser:{versions:function(){{var t=navigator.userAgent;navigator.appVersion}return{android4:t.indexOf("Android 4")>-1&&t.indexOf("Linux")>-1,android2:t.indexOf("Android 2")>-1&&t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,iPod:t.indexOf("iPod")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},isJson:function(t){return"undefined"==t||null==t||"object"==typeof t||""==t.trim()||0==t.trim().length?!0:!1}},ms=Ms;